---
title: 近期问题汇总
date: 2018-04-20 14:41:05
tags: [笔记]
categories: 笔记
---
整理下近期工作中遇到的问题
#### 安卓
##### rem兼容问题
- 在部分安卓机型里存在1rem不等于根元素上字体大小的问题。
理论上如果设定根元素大小为16px，那么1rem应该就等于16px，但是在部分安卓机型（常见vivo，oppo机型）中会出现1rem不等于16px的现象。此时可以根据根元素的字体大小设定一个dom元素插入文档，通过调用dom元素上的getBoundingClientRect获取元素在dom文档中实际的大小，通过理论的数值与真实的数值进行判断。如果两个数值不等，则将根元素上的字体大小按照理论数值与真实数值的比例放大或者缩小。
- 如果使用rem进行布局，那么会经常出现计算出来的元素大小像素存在小数点，而浏览器渲染页面是按照屏幕的渲染单位进行渲染的，这种情况下无法避免，只能在布局中进行留意。

##### placeholder字体发生变化会导致placeholder字体发生位移
通过设定::-webkit-input-placeholder对input下的placeholder属性设定的预留字体进行加粗变化字体类型会导致placeholder设定的字体在小米手机上发生位移

##### 华为
- 华为不支持多行flex布局。华为机型不支持多行flex布局，因为大多数华为机型只支持古老的flex-box布局，flex-box不支持多行布局，只支持单行的flex布局。所以在选定多行布局的时候，对flex的使用要多加谨慎，且对flex的预编译要选定兼容到最老的那一个选项。
- 虽然在移动端使用transform以及设定translate3D可以开启硬件加速，但是要考虑在部分机型使用后页面滑动元素滚动怪异的问题，常见于页面发生滑动，使用了transform属性的元素会滞后滑动（不同步滑动）
##### 多数安卓浏览器播放视频会使用自身的浏览器，且浏览器无法被遮盖

#### ios
- vue以及react后退会导致页面空白
- ios下元素需要使用onstarttouch属性才能激活元素的active渲染
- iphoneX在safari浏览器横屏下两边会自动留白
#### 工具
- 使用webpack打包时如果webpack的配置中output.jsonpfunction配置重复会导致打包资源发生冲突
- offline-plugin 离线资源加载优化，二次加载的时间可以优化到只需要原先加载时间的1/3，但使用会导致qq分享失败，影响到qq的分享接口的api报错（问题暂时未知）
